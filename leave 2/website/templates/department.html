{% extends "base.html" %}{% block title %}Home{% endblock %}
{% block content %}
<header id="header" class="content">
<div >
    <button class="open-btn" onclick="toggleSidebar()">☰ </button> 
    <h1 style="margin-left: 1%;display: inline;">LMS</h1>
</div>
<hr>


<div style="margin-left: 15px;font-size: 25px;">Department Section &nbsp;  <div style="display: inline;margin-left: 3%;" class="dropdown" onclick="toggleDropdown(this)">Admin<span class="dropdown-arrow" >▼</span>
    <ul class="dropdown-content">
        <li><a href="/logout" style="text-decoration: none;">Logout</a></li>
    </ul>
</div> </div>
</header>
<div id="table-div" >
    <br><br>
    <a href="/adddepartment" class="buttons" style="margin-left: 40%;">Add New Department</a>
    <div class="table-top">
        <label for="rowsPerPage" style="font-size: 15px;">Show:</label>
        <select id="rowsPerPage" style="width: 5%;" onchange="updateTable()">
            <option value="5">5</option>
            <option value="10" selected>10</option>
            <option value="15">15</option>
            <option value="20">20</option>
            <option value="50">50</option>
        </select>
    <input type="text" name="search" id="search" class="search" style=" margin-left: 70%;"placeholder="Search"></div>
<table class="table" id="allTable">
    <tr style="background-color: black;color: white;">
    <th class="table-heading3" style="border: none;">S.N</th>
    <th class="table-heading3">DEPARTMENT</th>
    <th class="table-heading3">SHORT FORM</th>
    <th class="table-heading3">CREATED DATE</th>
    <th class="table-heading3" style="padding-left: 130px;"></th>
</tr>
{% for department in departments %}
<tr><td class="table-heading3">{{ department.id }}</td>
    <td class="table-heading3">{{ department.departmentname }}</td>
    <td class="table-heading3">{{ department.shortform }}</td>
    <td class="table-heading3">{{ department.created_at.strftime('%Y-%m-%d') }}</td>
    <td class="table-heading3"><button onclick="deleteItem('department', {{ department.id }})" style="background-color: skyblue;border: none;padding: 10%;color: white;padding-left: 15%;">Delete</button></td></tr>
    {% endfor %}
        
</table>
</div>
{% endblock %}